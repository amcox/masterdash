geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
cbbPalette <- c("#0072B2", "#009E73", "#F0E442", "#E69F00", "#D55E00", "#56B4E9", "#CC79A7", "#000000")#
#
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_smooth(method=lm)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_smooth(data=points, method=lm)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI))+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
school_points <- subset(points, Sub == "T" & Grade == "T")
school_points
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_shape_manual(values=c(3,4,8))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_shape_manual(values=c(5,6,7)+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_shape_manual(values=c(3,4,8))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_shape_manual(values=c(3,4,8))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School), size=10))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School), size=100))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School), size=4))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)), size=4)+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)), size=40)+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)), size=10)+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)), size=5)+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
geom_smooth(data=points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette)+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
title("All Subject-Grade Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
labs(title="All Subject-Grade Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
ggtitle("All Subject-Grade Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
labs(title="All Subject-Grade Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools",plot.title=theme_text(lineheight=2))
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools",plot.title=theme_text(lineheight=5))
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools",plot.title=theme_text(lineheight=.5))
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = school_points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = school_points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = school_points, size=5, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = school_points, size=3, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")
ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = school_points, size=3, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="Overall AI Scores for ReNEW Schools")
all_points <- ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = points, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
geom_smooth(data = points, method=lm, aes(x=CR, y=AI), fullrange=T)+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="All Subject-Grade i/LEAP Scores for ReNEW Schools")#
overall_points <- ggplot()+#
geom_rect(data = rects, aes(ymin = ystart, ymax = yend, xmin = 0, xmax = 100, fill=col), alpha=.15)+#
scale_fill_manual(values=cbbPalette, name="Letter Grade")+#
geom_point(data = school_points, size=3, aes(x=CR, y=AI, color=factor(Year), shape=factor(School)))+#
scale_color_discrete(name="Year")+#
scale_shape_discrete(name="School")+#
scale_y_continuous(limits=c(0,150), breaks=seq(0, 150, 10))+#
scale_x_continuous(limits=c(0,100), breaks=seq(0, 150, 10))+#
coord_fixed()+#
ylab("Assessment Index")+#
xlab("Percent of Students Scoring Basic and Above")+#
opts(title="Overall AI Scores for ReNEW Schools")#
multiplot(all_points, overall_points)
x <- rnorm(10)
print(x)
x <- rnorm(10, 20, 2)
print(x)
summary(x)
e <- rnorm(100, 0, 1)
e
y <- 1.5 - 3 * x + e
y
x
x <- 1:100
y <- 1.5 - 3 * x + e
plot (x, y)
Carcassonne Rules.pdf
x <- rnorm(100)
hist(x)
?par
y <- x + rnorm(100)
par(las=1)
plot(x,y)
par(las=2)
plot(x,y)
par(las=1)
x1 <- rnorm(10)
y1 <- rnorm(10)
points(x1, y1, col="red")
library(lattice)
library(nlme)
Carcassonne Rules.pdf
xyplot(distance ~ age | Subject, data=Orthodont)
xyplot(distance ~ age | Subject, data=Orthodont, type="b")
?histogram
?boxplot
?par
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
set.seed(1)
rpois(5, 2)
?rpois
set.seed(31);#
heightsCM = rnorm(30,mean=188, sd=5);#
weightsK = rnorm(30,mean=84,sd=3); #
hasDaughter = sample(c(TRUE,FALSE),size=30,replace=T); #
dataFrame = data.frame(heightsCM,weightsK,hasDaughter);
heightsCM
dataFrame
dataFrameSubset = dataFrame[heightsCM >188]
dataFrameSubset = dataFrame[heightsCM >188,]
dataFrameSubset
mean(dataFrameSubset$weightsK)
set.seed(41)
cauchyValues <- rcauchy(100)
cauchyValues
set.seed(415)
v <- sample(cauchyValues, 10, replace=TRUE)
v
quarters = current_district.settings[:quarters]#
quarters_as_dates = {}#
quarters.each do |k, v|#
quarters_as_dates[k] = v.begin.to_date..v.end.to_date#
end
pal <- colorRampPalatte(c("red", "yellow", "blue"))
pal <- colorRampPalette(c("red", "yellow", "blue"))
x <- rnorm(100)
plot(x, col=pal(100))
plot(x, col=pal(10))
plot(x, col=pal(100))
?paste0
ls()
update.packages()
install.packages("Rcpp", type="source")#
install.packages("dplyr", type="source")
library(dplyr)
?dplyr
set.seed(124)#
pois <- rpois(100, lambda = 3)#
pois[1:10]
str(pois)
hist(pois)
set.seed(124)#
pois <- rpois(1000, lambda = 3)
str(pois)
hist(pois)
set.seed(124)#
pois <- rpois(1000, lambda = 1)
hist(pois)
set.seed(124)#
pois <- rpois(1000, lambda = 1.5)
hist(pois)
set.seed(124)#
pois <- rpois(1000, lambda = 3)
hist(pois)
set.seed(124)#
pois <- rpois(1000, lambda = 1)
hist(pois)
d <- data.frame(value=pois)
str(d)
d$z <- scale(d$vaule)
d$z <- scale(d$value)
?ecdf
d$percentile <- ecdf(d$value)d$value
d$percentile <- ecdf(d$value)(d$value)
str(d)
d <- d[order(d$value),]
head(d)
unique(d)
mean(d$value)
sd(d$value)
setwd('/Users/Andrew/Dropbox/ReNew/Data Analysis/masterdash/analysis/R')
library(plyr)#
library(dplyr)#
library(gdata)#
library(reshape2)#
library(ggplot2)#
library(scales)#
library(gridExtra)#
library(tidyr)#
#
update_functions <- function() {#
	old.wd <- getwd()#
	setwd("functions")#
	sapply(list.files(), source)#
	setwd(old.wd)#
}#
update_functions()#
#
con <- prepare_connection()#
#
teacher_plot_table_theme <- function(...) {#
  modifyList(#
    theme.default(show.rownames = FALSE, show.colnames = TRUE, #
      row.just = "center", col.just = "center", core.just = "center", #
      separator = "white", show.box = FALSE, show.csep = FALSE, #
      show.rsep = FALSE, equal.width = FALSE, equal.height = FALSE, #
      padding.h = unit(4, "mm"), padding.v = unit(4, "mm"),#
      gpar.coretext = gpar(col = "black", cex = 1),#
      gpar.coltext = gpar(col = "black", cex = 1, fontface = "bold"),#
      gpar.rowtext = gpar(col = "black", cex = 0.8, fontface = "italic"),#
      h.odd.alpha = 0.5, h.even.alpha = 0, v.odd.alpha = 1,#
      v.even.alpha = 1, gpar.corefill = gpar(fill = "grey90", col = NA),#
      gpar.rowfill = gpar(fill = "grey90", col = NA), #
      gpar.colfill = gpar(fill = "grey90", col = NA), gp=gpar(fontsize=9)#
    ), list(...)#
  )#
}#
#
## ALs#
  make_teacher_al_table_48 <- function(teacher.name, all.teachers.info) {#
    t.al.info <- subset(all.teachers.info, teacher_name == teacher.name)#
    teacher.table <- data.frame(labs=c('Students College-Ready on B1', 'Growth from LEAP to B1'),#
      percs=c(neg_safe_percent(t.al.info$B1), neg_safe_percent(t.al.info$l.to.b1)),#
      perciles=c(percentile_format(t.al.info$B1.percile), percentile_format(t.al.info$l.to.b1.percile))#
    )#
    al.table <- tableGrob(teacher.table,#
      show.rownames=F,#
      show.colnames=F,#
      cols=c('ReNEW Benchmarks', '', 'Percentile Rank 4-8th Teachers'),#
      theme=teacher_plot_table_theme()#
    )#
    return(al.table)#
  }#
  make_teacher_al_table_3 <- function(teacher.name, all.teachers.info) {#
    t.al.info <- subset(all.teachers.info, teacher_name == teacher.name)#
    teacher.table <- data.frame(labs=c('Students College-Ready on B1'),#
      percs=c(neg_safe_percent(t.al.info$B1)),#
      perciles=c(percentile_format(t.al.info$B1.percile))#
    )#
    al.table <- tableGrob(teacher.table,#
      show.rownames=F,#
      show.colnames=F,#
      cols=c('ReNEW Benchmarks', '', 'Percentile Rank 3rd Teachers'),#
      theme=teacher_plot_table_theme()#
    )#
    return(al.table)#
  }#
  make_teacher_al_plot_38 <- function(teacher.name, df.se, highlights, title.string) {#
    make_al_table <- function(d) {#
      data.frame(prop.table(table(d$test_name, d$achievement_level), 1))#
    }#
    se.t <- subset(df.se, teacher_name == teacher.name) %>%#
      select(id, teacher_name, achievement_level, test_name)#
    d.props <- se.t %>% do(make_al_table(.)) %>% data.frame()#
    names(d.props) <- c("test", "achievement_level", "perc")#
    d.props$achievement_level <- gdata:::reorder.factor(d.props$achievement_level,#
    															new.order=c("A", "M", "B", "AB", "U")#
    )#
    d.props <- d.props[order(as.numeric(d.props$achievement_level)),]#
#
    # b.above <- subset(d.props, achievement_level %in% c("A", "M", "B"))#
    # b.above <- b.above %>% group_by(test) %>% summarize(perc=sum(perc))#
    b.above <- se.t %>% group_by(test_name) %>% summarize(perc=mean(achievement_level %in% c('A', 'M', 'B')))#
    p.bars <- ggplot()+#
    	geom_bar(data=subset(d.props, achievement_level != 'U'), aes(x=test, y=perc, fill=achievement_level), stat="identity")+#
    	geom_bar(data=highlights, aes(x=test, y=perc), fill="white", stat="identity", alpha=.4)+#
      geom_text(data=b.above, aes(label=round(perc * 100, digits=0), x=test_name, y=(perc + 0.03)), size=2)+#
    	scale_x_discrete(limits=test.order)+#
    	scale_y_continuous(labels=percent, breaks=seq(0,1,.1))+#
    	scale_fill_manual(values=alPalette.light.lows, guide=F)+#
    	ylab("Percent of Scores")+#
    	xlab("Assessment")+#
    	labs(title=paste0("Perc. at Achievemt Levels, ", title.string))+#
    	theme_bw()+#
    	theme(axis.text.x=element_text(size=6, angle=90, vjust=0.5),#
    				axis.text.y=element_text(size=6),#
    				title=element_text(size=7)#
    	)#
#
    b.above.l14 <- subset(b.above, test_name=="L14")#
    if(nrow(b.above.l14) > 0){#
    	p.bars  <- p.bars + geom_hline(data=b.above.l14,#
        aes(yintercept=perc+.1), linetype=3#
    	)#
    }#
    return(p.bars)#
  }#
  make_teacher_obs_table <- function(teacher.name, t.means) {#
    obs.t <- subset(t.means, name == teacher.name & quarter == 1)#
    teacher.table <- data.frame(labs=c('Score on Q1 Observations'),#
      percs=c(obs.t$score#
      ),#
      perciles=c(percentile_format(obs.t$q.percile)#
      )#
    )#
    obs.table <- tableGrob(teacher.table,#
      show.rownames=F,#
      show.colnames=F,#
      cols=c('AIM Rubric Observations', '', 'Percentile Rank All Teachers'),#
      theme=teacher_plot_table_theme()#
    )#
    return(obs.table)#
  }#
  make_teacher_obs_plot <- function(teacher.name, t.means, all.stats) {#
    d.obs <- subset(t.means, name==teacher.name)#
    if(nrow(d.obs) > 0){#
    	p.obs <- ggplot()+#
    		geom_crossbar(data=all.stats, aes(x=quarter, ymin=lowth, y=median, ymax=highth), fatten=1, color='#1B9E77')+#
    		geom_point(data=d.obs, aes(x=quarter, y=score), shape=18, size=4, color="red")+#
    		scale_y_continuous(limits=c(1,4), breaks=seq(1,4,0.5))+#
        scale_x_discrete(limits=c(1, 2, 3, 4))+#
    		labs(title="Quarterly Observation Scores",#
    				x="Quarter",#
    				y="Score"#
    		)+#
    		coord_flip()+#
    		theme_bw()+#
    		theme(title=element_text(size=6),#
    					axis.text.y=element_text(size=6),#
    					axis.text.x=element_text(size=6),#
    					legend.title=element_text(size=6),#
    					legend.text=element_text(size=6)#
    		)#
    }else{#
    	p.obs <- grob()#
    }#
    return(p.obs)#
  }#
  find_boxplot_iles <- function(d) {#
    data.frame(#
      lowth=boxplot.stats(d$score)$stats[2],#
      median=boxplot.stats(d$score)$stats[3],#
      highth=boxplot.stats(d$score)$stats[4],#
      mean=mean(d$score, na.rm=T)#
    )#
  }#
  make_teacher_info_set <- function(teacher.name, teacher.school) {#
    t.school <- textGrob(teacher.school, gp=gpar(fontsize=12), hjust=1)#
    t.name <- textGrob(teacher.name, gp=gpar(fontsize=12), hjust=0)#
    g.names <- arrangeGrob(t.school, t.name, nrow=1)#
    return(g.names)#
  }#
  make_plot_for_teacher <- function(teacher.name, teacher.school, t.means, all.stats, output.dir, al.set, n.subjects) {#
    if(nrow(subset(t.means, name == teacher.name)) > 0){#
      obs.table <- make_teacher_obs_table(teacher.name, t.means)#
      obs.plot <- make_teacher_obs_plot(teacher.name, t.means, all.stats) + theme(plot.margin = unit(c(1, 0, 1, 0), "lines"))#
      obs.set <- arrangeGrob(obs.table, obs.plot, ncol=2, widths=c(.6, .4))#
    }else{#
      obs.set <- grob()#
    }#
#
    info.set <- make_teacher_info_set(teacher.name, teacher.school)#
    g.content <- arrangeGrob(al.set, obs.set, ncol=1, heights=c((n.subjects/(n.subjects+1)), (1/(n.subjects+1))))#
    p <- arrangeGrob(info.set, g.content, ncol=1, heights=c(.05, .95),#
      main=textGrob('\nReNEW Teacher Performance Dashboard 2014-15', gp=gpar(fontsize=18))#
    )#
    save_plot_as_pdf(p, paste0('/new teacher profiles/', output.dir, '/', teacher.name), wide=F)#
  }#
  make_plot_for_teacher_48 <- function(teacher.name, teacher.school, apw, df.se, highlights, t.means, all.stats, output.dir) {#
    make_plot_and_table <- function(teacher.name, apw, df.se, highlights, title.string) {#
      al.table <- make_teacher_al_table_48(teacher.name, apw)#
      al.plot <- make_teacher_al_plot_38(teacher.name, df.se, highlights, title.string) + theme(plot.margin = unit(c(0, 0, 0, 0), "lines"))#
      p <- arrangeGrob(al.table, al.plot, ncol=2, widths=c(.6, .4))#
      return(p)#
    }#
    t.subjects <-subset(apw, teacher_name == teacher.name)$subject#
    plots <- sapply(t.subjects, function(x){NULL})#
    for(s in t.subjects){#
      apw.sub <- subset(apw, subject == s)#
      df.se.sub <- subset(df.se, subject == s)#
      plots[[s]] <- make_plot_and_table(teacher.name, apw.sub, df.se.sub, highlights, short_labeller('subject', s))#
    }#
    if(length(t.subjects) > 1){#
      al.rows <- 2#
    }else{#
      al.rows <- 1#
    }#
    al.set <- do.call(arrangeGrob, c(plots, ncol=1))#
    make_plot_for_teacher(teacher.name, teacher.school, t.means, all.stats, output.dir, al.set, length(t.subjects))#
  }#
  make_plot_for_teacher_3 <- function(teacher.name, teacher.school, apw, df.se, highlights, t.means, all.stats, output.dir) {#
    al.table <- make_teacher_al_table_3(teacher.name, apw)#
    al.plot <- make_teacher_al_plot_38(teacher.name, df.se, highlights)#
    al.set <- arrangeGrob(al.table, al.plot, ncol=2)#
    make_plot_for_teacher(teacher.name, teacher.school, t.means, all.stats, output.dir, al.set)#
  }#
  run_plots_for_small_school <- function(ss, ts.with.ss, plot.fun, apw, df.se, highlights, t.means, all.stats, output.dir) {#
    ss.ts <- subset(ts.with.ss, small.school == ss)#
    teachers <- unique(ss.ts$teacher_name)#
    lapply(teachers, plot.fun, teacher.school=ss, apw=apw, df.se=df.se,#
      highlights=highlights, t.means=t.means, all.stats=all.stats, output.dir=ss#
    )#
  }
setwd('/Users/Andrew/Dropbox/ReNew/Data Analysis/masterdash/analysis/R')
# Observation data#
  df.obs <- get_observation_data(con)#
  df.obs$quarter <- factor(df.obs$quarter)#
#
  t.means <- df.obs %>% group_by(name, quarter) %>%#
    summarize(score=mean(score, na.rm=T))#
  t.means$q.percile <- ecdf(t.means$score)(t.means$score)#
  t.means.overall <- t.means %>% group_by(name) %>% summarize(score=mean(score))#
  t.means.overall$percile <- ecdf(t.means.overall$score)(t.means.overall$score)#
  all.stats <- t.means %>%#
    group_by(quarter) %>%#
    do(find_boxplot_iles(.))#
  # AL data#
  df.se <- get_scores_enrollments_data(con)#
  df.se$achievement_level <- make_adjusted_als(df.se$achievement_level)#
  # 4-8 roll-up data#
  df.se.48 <- subset(df.se, grade > 3)#
    # Test teachers#
    df.se.48 <- subset(df.se.48, teacher_name %in% c('Chestnut, Darian', 'Chase, Cori'))#
  ap <- df.se.48 %>% group_by(teacher_name, test_name, subject) %>% summarize(perc.b = mean(achievement_level %in% c('A', 'M', 'B')))#
  apw <- spread(ap, test_name, perc.b)#
  apw <- apw %>% mutate(l.to.b1 = B1 - L14)#
  apw <- apw %>% group_by(subject) %>% do(ecdf_by_group(., 'l.to.b1', 'l.to.b1.percile'))#
  apw <- apw %>% group_by(subject) %>% do(ecdf_by_group(., 'B1', 'B1.percile'))#
  apw.48 <- apw
setwd('/Users/Andrew/Dropbox/ReNew/Data Analysis/masterdash/analysis/R')
# Plot 4-8#
teachers <- unique(df.se.48$teacher_name)#
teacher.small.schools <- df.se.48 %>% group_by(teacher_name, school) %>% summarize(grade = max(grade))#
teacher.small.schools$small.school <- apply(teacher.small.schools, 1, make_small_school)#
small.schools <- unique(teacher.small.schools$small.school)#
lapply(small.schools, run_plots_for_small_school, teacher.small.schools, make_plot_for_teacher_48, apw.48, df.se.48, highlights, t.means, all.stats, output.dir)
